---
title: C++ 01 - 内存模型
date: 2018-08-26 08:53:49
categories: C++
---
# 内存模型

<!--more-->

1. 堆(heap)

    由new分配出来的内存块, 其释放编译器不去管, 由程序去控制, 一个new对应一个delete. 如果没有释放掉, 在程序结束时OS会自动回收.

2. 栈(stack)

    栈是那些编译器在需要时分配, 在不需要时自动清除的存储区, 存放局部变量, 函数参数.

    存放的栈中的数据只在当前函数及下一层函数中有效, 一旦函数返回了, 这些数据也就自动释放.

3. 全局/静态存储区(.bss段和.data段)

    全局和静态变量被分配到同一内存中. 在C语言中, 未初始化的放在.bass段, 初始化的放在.data段, 在C++中不区分.

4. 常量存储区(.rodata段)

    存放常量, 不允许修改(通过一些方法也可以修改).

5. 代码段(.text段)

    存放代码(如函数), 不允许修改(类似常量存储区).
